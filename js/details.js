function getQueryString(o){var s=new RegExp("(^|&)"+o+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(s);return null!=i?decodeURI(i[2]):null}$(function(){$("header").load("../html/header.html"),$("footer").load("../html/footer.html"),$(".add-right").load("../html/right.html"),$(".pic-top>img").on("mouseenter",function(){$(".shadow").css("display","block"),$(".big-pic").stop(!0).fadeIn(600)}),$(".pic-top").on("mousemove",function(o){var s=o.pageY-$(".pic-top img").offset().top-$(".shadow").height()/2,i=o.pageX-$(".pic-top img").offset().left-$(".shadow").width()/2,e=$(".pic-top img").height()-$(".shadow").height(),t=$(".pic-top img").width()-$(".shadow").width();0>i&&(i=0),i>t&&(i=t),0>s&&(s=0),s>e&&(s=e);var n=s/1.5,c=i/1.5;$(".shadow").css({left:i,top:s}),$(".big-pic").css({"background-position-x":-c,"background-position-y":-n})}),$(".pic-top").on("mouseleave",function(){$(".shadow").css("display","none"),$(".big-pic").stop(!0).fadeOut(600)}),$(".pic-bottom nav img").click(function(){$(".pic-bottom nav img").removeClass("hover"),$(this).addClass("hover");var o=$(this).attr("src");$(".pic-top img").attr("src",o),$(".big-pic").css("background","url("+o+") no-repeat"),console.log(o)}),$(".size-number div:eq(0) nav a").click(function(){$(".size-number div:eq(0) nav a").removeClass("oon"),$(this).addClass("oon")}),$(".numad").click(function(){$("#num").val(Number($("#num").val())+1)}),$(".numre").click(function(){var o=Number($("#num").val())-1;0>=o&&(o=1),$("#num").val(o)});var o=$(".scrollnav").offset().top;console.log(o),$(window).scroll(function(){$(window).scrollTop()>=o?($(".scrollnav").addClass("qaz"),$(".scrollnav").stop(!0).animate({left:0},400)):($(".scrollnav").removeClass("qaz"),$(".scrollnav").css({left:"-90px"}))}),$("section p").eq(0).html(getQueryString("spid")),$("section p").eq(1).html(decodeURI(getQueryString("cont"))),$(".gw .jrgw").click(function(){var o,s=getQueryString("spid"),i=Number($("#num").val()),e=!1;if(console.log(i),$.cookie("sp")){var t=JSON.parse($.cookie("sp"));null==t&&(t={sp:[]}),t.sp.forEach(function(t,n){s==t.id&&(i+=t.number,console.log(i,t.number),e=!0,o=n)}),ssr={id:s,number:i},e?t.sp[o].number=i:t.sp.push(ssr),t=JSON.stringify(t),$.cookie("sp",t,{expires:7,path:"/"})}else ssr={sp:[{id:s,number:i}]},t=JSON.stringify(ssr),$.cookie("sp",t,{expires:7,path:"/"});var n=0;JSON.parse($.cookie("sp")).sp.forEach(function(o){n+=o.number}),$(".cart_num").html(n)})});